function loadPage(value)
{
	var ajaxRequest;
	
	// Support for older IE browsers
	if (window.XMLHttpRequest) {
		ajaxRequest = new XMLHttpRequest();
	} else {
		ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
	}
	
	ajaxRequest.onreadystatechange=function() {
		if (ajaxRequest.readyState == 4 && ajaxRequest.status == 200 || ajaxRequest.status == 0) {
			document.getElementById("content").innerHTML = ajaxRequest.responseText;
		} else {
			document.getElementById("content").innerHTML = "<h2>Error</h2>404, Sorry; Page not found.";
			document.getElementsByTagName("title")[0].innerHTML = "Error, 404";
		}
	}
	
	ajaxRequest.open("GET", "../pages/" + value + ".txt", true);
	ajaxRequest.send();
}

function loadPageTitle(value) {
	var ajaxRequest;
	
	// Support for older IE browsers
	if (window.XMLHttpRequest) {
		ajaxRequest = new XMLHttpRequest();
	} else {
		ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
	}
	
	ajaxRequest.onreadystatechange=function() {
		if (ajaxRequest.readyState == 4 && ajaxRequest.status == 200 || ajaxRequest.status == 0) {
			document.getElementsByTagName("title")[0].innerHTML = ajaxRequest.responseText;
		} else {
			document.getElementsByTagName("title")[0].innerHTML = "Error, 404";
		}
	}
	
	ajaxRequest.open("GET", "../pages/" + value + "_title.txt", true);
	ajaxRequest.send();
}

function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.search);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

/* Get parameters from URL */

var viewPage = getParameterByName('p');
